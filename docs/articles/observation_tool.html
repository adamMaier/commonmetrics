<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tntpmetrics">
<title>Observations • tntpmetrics</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Observations">
<meta property="og:description" content="tntpmetrics">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tntpmetrics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/metric_overview.html">Overview of Creating Metrics</a>
    <a class="dropdown-item" href="../articles/teacher_expectations.html">High Expectations</a>
    <a class="dropdown-item" href="../articles/assignments.html">Grade-Appropriate Assignments</a>
    <a class="dropdown-item" href="../articles/observation_tool.html">Observations</a>
    <a class="dropdown-item" href="../articles/student_surveys.html">Student Surveys</a>
    <a class="dropdown-item" href="../articles/sample_implicit.html">Sampling for Common Metrics</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Observations</h1>
            
      
      
      <div class="d-none name"><code>observation_tool.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">tntpmetrics</span><span class="op">)</span></code></pre></div>
<p><code>tntpmetrics</code> calculate observation scores for both the TNTP Core and IPG. The required column names for each metric are below.</p>
<ul>
<li>
<strong>TNTP Core</strong>
<ul>
<li>Metric name to use in package: <code>metric = tntpcore</code>
</li>
<li>Items:
<ul>
<li>ec (“<em>Essential Content</em>”)</li>
<li>ao (“<em>Academic Ownership</em>”)</li>
<li>dl (“<em>Demonstration of Learning</em>”)</li>
<li>cl (“<em>Culture of Learning</em>”)</li>
</ul>
</li>
<li>Scale: 1 (Ineffective), 2 (Minimally Effective), 3 (Developing), 4 (Proficient), 5 (Skillful)</li>
<li><em>Note: TNTP Core does not have a binary threshold.</em></li>
</ul>
</li>
<li>
<strong>IPG</strong>
<ul>
<li>Metric name to use in package: <code>metric = ipg</code>
</li>
<li>Items: All observations need
<ul>
<li>ca1_a (“<em>Core Action 1A</em>”)</li>
<li>ca1_b (“<em>Core Action 1B</em>”)</li>
<li>ca1_c (“<em>Core Action 1C</em>”)</li>
<li>ca2_overall (“<em>Core Action 2 Overall</em>”)</li>
<li>ca3_overall (“<em>Core Action 3 Overall</em>”)</li>
<li>col (“<em>Culture of Learning</em>”)</li>
</ul>
</li>
<li>Items for K-5 Literacy observations also required are
<ul>
<li>rfs_overall (“<em>Reading Foundation Skills Overall</em>”)</li>
</ul>
</li>
<li>Items for science observations also required are
<ul>
<li>ca1_d (“<em>Core Action 1D</em>”)</li>
<li>ca1_e (“<em>Core Action 1E</em>”)</li>
<li>ca1_f (“<em>Core Action 1F</em>”)</li>
<li>science_filter (<em>“Text”, “Inquiry and Scientific Practice”, “Both”, or “Neither”.</em>)</li>
</ul>
</li>
<li>Other Needed Items are:
<ul>
<li>grade_level (“<em>Numeric grade-level</em>”)</li>
<li>form (“Math”, “Literacy”, “Science”, or “Social Studies”).</li>
</ul>
</li>
<li>Scale: ca1_a, ca1_b, ca1_c, ca1_d, ca1_e, and ca1_f are 0 (No) and 1 (Yes). All other items are 1 (Not Yet), 2 (Somewhat), 3 (Mostly), and 4 (Yes)</li>
<li>Note: RFS Overall (<code>rfs_overall</code>) is only required if observation data contains K-5 Literacy observations. Core Action 1 D - F (<code>ca1_</code>) are only required if data contains science observations.</li>
</ul>
</li>
</ul>
<div class="section level2">
<h2 id="tntp-core">TNTP Core<a class="anchor" aria-label="anchor" href="#tntp-core"></a>
</h2>
<p>Calculating TNTP Core scores works like all other metrics. make sure you have the required columns and then use <code>metric = 'tntpcore'</code> in <code>make_metric</code>.</p>
<p>We’ll simulate data as an example.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tntp_core_scale</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>

<span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">100</span>

<span class="va">tntp_core_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>
  ec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">tntp_core_scale</span>, <span class="va">n</span>, replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,
  ao <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">tntp_core_scale</span>, <span class="va">n</span>, replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,
  dl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">tntp_core_scale</span>, <span class="va">n</span>, replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,
  cl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">tntp_core_scale</span>, <span class="va">n</span>, replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>Now to calculate TNTP Core Observation scores. Note that TNTP Core does not have a binary threshold, so only one additional column is returned.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tntp_core_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"tntpcore"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "0 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">ec</th>
<th align="right">ao</th>
<th align="right">dl</th>
<th align="right">cl</th>
<th align="right">cm_tntpcore</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">1.50</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">2</td>
<td align="right">5</td>
<td align="right">4</td>
<td align="right">3.50</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1.50</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">2</td>
<td align="right">5</td>
<td align="right">3</td>
<td align="right">3.25</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">5</td>
<td align="right">3.50</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">3</td>
<td align="right">4.25</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="ipg">IPG<a class="anchor" aria-label="anchor" href="#ipg"></a>
</h2>
<p>The IPG has the most complicated scoring approach of any of the common metrics. That is because it was originally intended as a diagnostic and development (rather than evaluation) tool, has different components based on the subject matter, has indicators on different scales, and can often have layers of skip logic in the online form used to capture the data. Nevertheless, <code>make_metric</code> works just as easily on the IPG as it does on other metrics, but users should be aware of the following:</p>
<ul>
<li>The function expects the Core Action 1 indicators to be on a 0-1 scale, but the other Core Action scores (and RFS Overall and Culture of Learning) to be on a 1-4 scale. This is to make the function work more easily on data coming out of Academic Diagnostic forms, which tend to use these scales. <code>make_metric</code> will automatically place everything on the proper scale.</li>
<li>
<code>make_metric</code> will not account for observations that should be excluded. For example, some Literacy observations were unrateable because they focused on narrative writing. <code>make_metric</code> does not expect any of these type of skip-logic filters that often accompany the online Academic Diagnostic form, so it’s up to the analyst to first exclude observations that should not be included based on the business rules. Similarly, because of the online skip logic, there are occasions where Core Actions 2 and 3 should be set to the lowest possible value because the observer was skipped past the questions. If these values are left as NA, <code>make_metric</code> will return NAs for the overall common metric score. The analyst must apply the appropriate business rules <em>before</em> using <code>make_metric</code>.</li>
<li>Analyzing IPG data requires additional variables beyond those used directly in scoring the construct. This is because the IPG calculates the construct differently based on the subject and grade-level of the observation. Though some of these calculations are slightly more involved, you can use the functions in <code>tntpmetrics</code> in the same way as the examples above. You just need to make sure that each observation has all the necessary variables.</li>
</ul>
<div class="section level3">
<h3 id="ipg-data-should-be-long-and-tidy">IPG data should be long and tidy<a class="anchor" aria-label="anchor" href="#ipg-data-should-be-long-and-tidy"></a>
</h3>
<p><code>tntpmetrics</code> expects your IPG data to be long and tidy: each row is a separate observation, and each column should represent just one thing. That is, you should only have one column titled <code>ca2_overall</code> (representing the overall score to Core Action 2); you should not have a separate variable for each subject (i.e., you should not have math2_overall, rlc2_overall, science2_overall, etc.), as this would not be “tidy” because that column now contains information on two things: subjects and core action 2 scores. Instead, you must have a separate column/variable called <code>form</code> in your data indicating the subject on which the IPG was applied. Depending on the project, this might require you to compile all of your IPG data from separate forms in WordPress/Formidable before using the <code>tntpmetrics</code> package.</p>
</div>
<div class="section level3">
<h3 id="additional-variables">Additional variables<a class="anchor" aria-label="anchor" href="#additional-variables"></a>
</h3>
<p>When working with the IPG, all observations will need a variable called <code>form</code> which must be “Literacy”, “Math”, “Science”, or “Social Studies”. All observations will also need a variable called <code>grade_level</code>, which is numeric and can range from -1 to 12, where -1 is Pre-K and 0 is Kindergarten.</p>
<p>All literacy observations that take place in a Pre-K to 5th grade classroom must also have a variable called <code>rfs_overall</code> which represents the overall score on the reading foundation skills.</p>
<p>Science observations must have additional Core Action 1 domains <code>ca1_d</code>, <code>ca1_e</code>, and <code>ca1_f</code>. How these additional domains get scored depends on the value to a gatekeeper or filter question from the form: “Did the lesson focus on a text or inquiry and scientific practice (experimentation, application, modeling, analysis, etc.)? Note that “texts” in this context also means other scientifically appropriate mediums of communication, like grade-appropriate videos, data sets, models, etc.“. Thus, all science observations must also have a variable called <code>science_filter</code> which must have values of”Text“,”Inquiry and Scientific Practice“,”Both“, or”Neither".</p>
</div>
<div class="section level3">
<h3 id="calculating-observation-scores">Calculating observation scores<a class="anchor" aria-label="anchor" href="#calculating-observation-scores"></a>
</h3>
<p>If you have all of the needed variables, you can create the overall observation score just as you do for other metrics.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ipg_data</span><span class="op">)</span>

<span class="va">ipg_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"ipg"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">ends_with</a></span><span class="op">(</span><span class="st">"overall"</span><span class="op">)</span>, <span class="va">col</span>, <span class="va">cm_ipg</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">ca2_overall</th>
<th align="right">ca3_overall</th>
<th align="right">rfs_overall</th>
<th align="right">ca1_overall</th>
<th align="right">col</th>
<th align="right">cm_ipg</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">4</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">1.25</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1.00</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1.75</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1.25</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">3</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">1.75</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">3</td>
<td align="right">NA</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1.00</td>
</tr>
</tbody>
</table>
<p>In the above, notice that Core Actions 2 and 3, and Culture of Learning were rescaled in order to calculate the IPG construct (<code>cm_ipg</code>) but are returned to you in their original scale of 1-4. Additionally, the oveall Core Action 1 score is created as a new variable (<code>ca1_overall</code>) as only the subdomains are included in the original data.</p>
<p>But note what happens if you do not have the variable called <code>form</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ipg_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">form</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"ipg"</span><span class="op">)</span>
<span class="co">#&gt; Error: Data is missing the following variable(s): form </span>
<span class="co">#&gt;  Make sure spelling is correct.</span></code></pre></div>
<p>… Or if you don’t have a variable called <code>grade_level</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ipg_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">grade_level</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"ipg"</span><span class="op">)</span>
<span class="co">#&gt; Error: Data is missing the following variable(s): grade_level </span>
<span class="co">#&gt;  Make sure spelling is correct.</span></code></pre></div>
<p>… Or if either of these takes unexpected values:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ipg_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>form <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span>, <span class="st">"Blarg"</span>, <span class="va">form</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"ipg"</span><span class="op">)</span>
<span class="co">#&gt; Error: form variable has values other than Math, Literacy, Science, or Social Studies </span>
<span class="co">#&gt;  Make sure subject options are spelled correctly with correct capitalization.</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ipg_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>grade_level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span>, <span class="fl">15</span>, <span class="va">grade_level</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"ipg"</span><span class="op">)</span>
<span class="co">#&gt; Error: grade_level has values other than -1, 0, 1, 2, ...12. </span>
<span class="co">#&gt;  Make sure grade_level variable is an integer between -1 and 13.</span></code></pre></div>
<p>In fact, NAs are not allowed for <code>grade-level</code> or <code>form</code> because they determine how the construct is scored. You will get an error if any of your data rows have NAs in these columns:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ipg_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>form <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span>, <span class="cn">NA</span>, <span class="va">form</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"ipg"</span><span class="op">)</span>
<span class="co">#&gt; Error in data_scale_check_ipg(data): All observations must have a value for form. NAs are not allowed.</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="missing-ratings">Missing ratings<a class="anchor" aria-label="anchor" href="#missing-ratings"></a>
</h3>
<p><code>tntpmetric</code> will attempt to create an overall IPG score for every observation in your data. However, it can only do so if all the needed domain ratings are included. In cases where an observation is missing a required domain rating – for example, an observation is missing an overall score on Core Action 2 or Culture of Learning – it will return an NA for the overall IPG construct value and tell you how many observations were missing key information.</p>
<p>In the example below, we can see this warning if we purposefully drop some key domain ratings in the data before applying the <code>make_metric</code> function:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ipg_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>
    col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span>, <span class="cn">NA</span>, <span class="va">col</span><span class="op">)</span>,
    ca3_overall <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">2</span>, <span class="cn">NA</span>, <span class="va">ca3_overall</span><span class="op">)</span>,
    rfs_overall <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">14</span>, <span class="cn">NA</span>, <span class="va">rfs_overall</span><span class="op">)</span>,
    ca2_overall <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">14</span>, <span class="cn">NA</span>, <span class="va">ca2_overall</span><span class="op">)</span>
  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"ipg"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">observation_number</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">ends_with</a></span><span class="op">(</span><span class="st">"overall"</span><span class="op">)</span>, <span class="va">col</span>, <span class="va">cm_ipg</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">14</span><span class="op">)</span>
<span class="co">#&gt;   observation_number ca2_overall ca3_overall rfs_overall ca1_overall col cm_ipg</span>
<span class="co">#&gt; 1                  1           4           1          NA           1  NA     NA</span>
<span class="co">#&gt; 2                  2           1          NA          NA           1   4     NA</span>
<span class="co">#&gt; 3                  3           4           1          NA           1   4   1.75</span>
<span class="co">#&gt; 4                  4           1           4          NA           0   3   1.25</span>
<span class="co">#&gt; 5                  5           3           3          NA           1   3   1.75</span>
<span class="co">#&gt; 6                 14          NA           2          NA           2   4     NA</span></code></pre></div>
<p>Note that these messages are warnings, and the code will still run. But the affected observatinos now have NAs for their value for the overall construct (<code>cm_ippg</code>).</p>
</div>
<div class="section level3">
<h3 id="science-observation-scores">Science observation scores<a class="anchor" aria-label="anchor" href="#science-observation-scores"></a>
</h3>
<p>The (at the time of this writing) new science IPG form has more Core Action 1 subdomain ratings to account for the variety of lessons science observers might see. <code>tntpmetrics</code> accounts for these scoring approaches, but you must include a variable called <code>science_filter</code> in your data to tell the function which Core Action 1 values to expect. Without this variable, you will get an error:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ipg_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">form</span> <span class="op">==</span> <span class="st">"Science"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"ipg"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">science_filter</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"ca"</span><span class="op">)</span>, <span class="va">col</span>, <span class="va">cm_ipg</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   science_filter ca1_a ca1_b ca1_c ca1_d ca1_e ca1_f ca2_overall ca3_overall</span>
<span class="co">#&gt; 1           Both     0     1     0     0     0     1           4           1</span>
<span class="co">#&gt; 2        Neither     0     0    NA    NA    NA    NA           1           4</span>
<span class="co">#&gt; 3           Text     1     0     1     1     0    NA           3           3</span>
<span class="co">#&gt; 4           Text     0     1     1     0     0    NA           1           1</span>
<span class="co">#&gt; 5        Neither     0     0    NA    NA    NA    NA           2           3</span>
<span class="co">#&gt; 6           Both     1     0     0     1     0     0           1           2</span>
<span class="co">#&gt;   ca1_overall col cm_ipg</span>
<span class="co">#&gt; 1           1   2   1.25</span>
<span class="co">#&gt; 2           0   3   1.25</span>
<span class="co">#&gt; 3           1   3   1.75</span>
<span class="co">#&gt; 4           1   2   0.50</span>
<span class="co">#&gt; 5           0   2   1.00</span>
<span class="co">#&gt; 6           1   1   0.50</span>

<span class="va">ipg_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">form</span> <span class="op">==</span> <span class="st">"Science"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">science_filter</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"ipg"</span><span class="op">)</span>
<span class="co">#&gt; Error: Data contains science observation(s) but is missing the following variables: science_filter </span>
<span class="co">#&gt;  Make sure they are spelled correctly.</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="ipg-goals">IPG goals<a class="anchor" aria-label="anchor" href="#ipg-goals"></a>
</h3>
<p>If you have all of the needed variables with proper, allowable values, then the functions in <code>tntpmetrics</code> to calculate means (overall or by group) or changes over time work identically to the student survey examples above. For instance:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ipg_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/metric_analyses.html">metric_mean</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"ipg"</span><span class="op">)</span>
<span class="co">#&gt; $`Overall mean`</span>
<span class="co">#&gt;  1       emmean     SE df lower.CL upper.CL</span>
<span class="co">#&gt;  overall   1.44 0.0502 99     1.34     1.54</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Confidence level used: 0.95 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of data points`</span>
<span class="co">#&gt; [1] 100</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Adam Maier, Shane Orr.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
