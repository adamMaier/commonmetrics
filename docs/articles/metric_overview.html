<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This vignette provides an overview of the make_metric function.
">
<title>Overview of Creating Metrics • tntpmetrics</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Overview of Creating Metrics">
<meta property="og:description" content="This vignette provides an overview of the make_metric function.
">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tntpmetrics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/metric_overview.html">Overview of Creating Metrics</a>
    <a class="dropdown-item" href="../articles/teacher_expectations.html">High Expectations</a>
    <a class="dropdown-item" href="../articles/assignments.html">Grade-Appropriate Assignments</a>
    <a class="dropdown-item" href="../articles/observation_tool.html">Observations</a>
    <a class="dropdown-item" href="../articles/student_surveys.html">Student Surveys</a>
    <a class="dropdown-item" href="../articles/sample_implicit.html">Sampling for Common Metrics</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Overview of Creating Metrics</h1>
                        <h4 data-toc-skip class="author">Shane Orr</h4>
            
      
      
      <div class="d-none name"><code>metric_overview.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">tntpmetrics</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span></code></pre></div>
<div class="section level2">
<h2 id="calculating-metrics-with-make_metric">Calculating metrics with <code>make_metric</code><a class="anchor" aria-label="anchor" href="#calculating-metrics-with-make_metric"></a>
</h2>
<p><code>tntpmetrics</code> contains a simple function called <code>make_metric</code> to attach a new column/variable to your data with the value of the scored common metric. The new column will always have the prefix <code>cm_</code> followed by the name of the metric. For example, the <em>engagement</em> metric is simply the sum of the four engagement survey items. To use <code>make_metric</code>, simply provide the data set you want to use, and the metric you want calculated, making sure to put the latter in quotes. The result is your data but with a new variable <code>cm_engagement</code>. The function also tells you how many rows of data did not have a construct created because at least one of the survey items was missing.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ss_data_initial</span>, metric <span class="op">=</span> <span class="st">"engagement"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">response_id</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"eng_"</span><span class="op">)</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"cm_"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "6 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="12%">
<col width="13%">
<col width="9%">
<col width="14%">
<col width="14%">
<col width="14%">
<col width="21%">
</colgroup>
<thead><tr class="header">
<th align="right">response_id</th>
<th align="right">eng_interest</th>
<th align="right">eng_like</th>
<th align="right">eng_losttrack</th>
<th align="right">eng_moreabout</th>
<th align="right">cm_engagement</th>
<th align="left">cm_binary_engagement</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">39</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">9</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">73</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">84</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">85</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">9</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">94</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<div class="section level3">
<h3 id="binary-version-of-common-metric">Binary version of common metric<a class="anchor" aria-label="anchor" href="#binary-version-of-common-metric"></a>
</h3>
<p>Note that in the above, there were <strong>two</strong> new variables created: <code>cm_engagement</code> and <code>cm_binary_engagement</code>. For many common metrics, there is a cut-point on the metric scale above which, scores take on a special meaning. For engagement, for example, scores of 8 or above imply that the student in that particular response was “engaged”. The variable <code>cm_binary_engagement</code> will be <code>TRUE</code> if the engagement score is above this cut-point and FALSE if not. For most common metrics, the guidance is to set goals around the actual metric score, not the binary version, as the binary version reduces the nuance of the data. However, we know teams are interested in these binary classifications to <code>cm_binary_</code> variables are always created when you run <code>make_metric</code> as long as the metric has a defined cut-point. (The metric tntpcore does not have a defined cut-point.)</p>
</div>
</div>
<div class="section level2">
<h2 id="checking-for-common-errors">Checking for common errors<a class="anchor" aria-label="anchor" href="#checking-for-common-errors"></a>
</h2>
<p><code>make_metric</code> automatically checks for the most common data issues.</p>
<div class="section level3">
<h3 id="misspelled-variables">Misspelled Variables<a class="anchor" aria-label="anchor" href="#misspelled-variables"></a>
</h3>
<p>First, it requires that the data have the variable names spelled exactly as above. There is nothing special about these variable names, and the function had to choose some as the default. If your data has the variable names spelled differently, then you’ll have to change them before using <code>make_metric</code>. Otherwise, you’ll get an error:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ss_data_initial</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>eng_interest_wrongspelling <span class="op">=</span> <span class="va">eng_interest</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"engagement"</span><span class="op">)</span>
<span class="co">#&gt; Error: Data set data is missing the following variable(s): eng_interest </span>
<span class="co">#&gt;  Make sure spelling is correct.</span></code></pre></div>
<p>Which variable names are needed for each metric can always be found by typing <code><a href="../reference/make_metric.html">? make_metric</a></code>; they are also detailed in the articles for each metric.</p>
</div>
<div class="section level3">
<h3 id="items-on-the-wrong-scale">Items on the wrong scale<a class="anchor" aria-label="anchor" href="#items-on-the-wrong-scale"></a>
</h3>
<p>Second, <code>make_metric</code> will check each item to ensure it’s on the expected scale. For student survey items, it expects the scale of 0-3 outlined above. If any data value is outside of this scale, you’ll get an error telling you which variables are out of scale and the proper scale on which they should be:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ss_data_initial</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>
    eng_interest <span class="op">=</span> <span class="va">eng_interest</span> <span class="op">+</span> <span class="fl">1</span>,
    eng_like <span class="op">=</span> <span class="va">eng_like</span> <span class="op">-</span> <span class="fl">1</span>
  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"engagement"</span><span class="op">)</span>
<span class="co">#&gt; Error: In data the following variable(s) have a value out of scale: </span>
<span class="co">#&gt;  eng_like, eng_interest </span>
<span class="co">#&gt;  They should only take values of 0, 1, 2, 3</span></code></pre></div>
<p>You will also get an error if your scales are not numeric:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ss_data_initial</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>
    eng_interest <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span>
        <span class="va">eng_like</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="st">"Not True"</span>,
        <span class="va">eng_like</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"A Little True"</span>,
        <span class="va">eng_like</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"Mostly True"</span>,
        <span class="va">eng_like</span> <span class="op">==</span> <span class="fl">3</span> <span class="op">~</span> <span class="st">"Very True"</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"engagement"</span><span class="op">)</span>
<span class="co">#&gt; Error: In data the following variable(s) have a value out of scale: </span>
<span class="co">#&gt;  eng_interest </span>
<span class="co">#&gt;  They should only take values of 0, 1, 2, 3</span></code></pre></div>
<p>The scales needed for each metric are detailed in the metric articles.</p>
</div>
<div class="section level3">
<h3 id="optional-censored-scale-use">(Optional) Censored scale use<a class="anchor" aria-label="anchor" href="#optional-censored-scale-use"></a>
</h3>
<p>There are times where items may be on the wrong scale, but in a way that is undetectable. For example, what if the student survey data was provided to you with each item on a scale of 1-4, but because students never responded “Very True”, the data only actually has values of 1-3. Values of 1-3 are all <em>in scale</em> for student surveys, so that the preceding error will not occur. To account for this, <code>make_metric</code> automatically checks that each possible value on the scale is used and gives you a warning if that is not the case by indicating the affected variables and which value(s) they did not use:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ss_data_initial</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>eng_interest <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">eng_interest</span> <span class="op">==</span> <span class="fl">0</span>, <span class="cn">NA</span>, <span class="va">eng_interest</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"engagement"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Warning: Not all the possible values for each variable were used in data The following variables did NOT use the following values: </span>
<span class="co">#&gt;  eng_interest: 0 </span>
<span class="co">#&gt;  This is not an error, but you should confirm that all values are on the scale: 0, 1, 2, 3</span>
<span class="co">#&gt; [1] "199 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span></code></pre></div>
<table class="table">
<colgroup>
<col width="3%">
<col width="5%">
<col width="6%">
<col width="6%">
<col width="4%">
<col width="4%">
<col width="5%">
<col width="3%">
<col width="6%">
<col width="6%">
<col width="4%">
<col width="4%">
<col width="5%">
<col width="5%">
<col width="8%">
<col width="5%">
<col width="6%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="left">class_id</th>
<th align="right">response_id</th>
<th align="left">class_frl_cat</th>
<th align="left">class_soc_cat</th>
<th align="right">bel_fitin</th>
<th align="right">bel_ideas</th>
<th align="right">eng_interest</th>
<th align="right">eng_like</th>
<th align="right">eng_losttrack</th>
<th align="right">eng_moreabout</th>
<th align="right">rel_asmuch</th>
<th align="right">rel_future</th>
<th align="right">rel_outside</th>
<th align="right">rel_rightnow</th>
<th align="right">tch_interestedideas</th>
<th align="right">tch_problem</th>
<th align="right">cm_engagement</th>
<th align="left">cm_binary_engagement</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="right">3</td>
<td align="left">Under 50% FRL</td>
<td align="left">0-25% SOC</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">A</td>
<td align="right">39</td>
<td align="left">Under 50% FRL</td>
<td align="left">0-25% SOC</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">9</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">A</td>
<td align="right">73</td>
<td align="left">Under 50% FRL</td>
<td align="left">0-25% SOC</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">8</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">A</td>
<td align="right">84</td>
<td align="left">Under 50% FRL</td>
<td align="left">0-25% SOC</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">A</td>
<td align="right">85</td>
<td align="left">Under 50% FRL</td>
<td align="left">0-25% SOC</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">9</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">A</td>
<td align="right">94</td>
<td align="left">Under 50% FRL</td>
<td align="left">0-25% SOC</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<p>Because this is not technically an error, you can turn off this default warning by setting <code>scaleusewarning = F</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ss_data_initial</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>eng_interest <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">eng_interest</span> <span class="op">==</span> <span class="fl">0</span>, <span class="cn">NA</span>, <span class="va">eng_interest</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/make_metric.html">make_metric</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"engagement"</span>, scaleusewarning <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "199 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt;   class_id response_id class_frl_cat class_soc_cat bel_fitin bel_ideas</span>
<span class="co">#&gt; 1        A           3 Under 50% FRL     0-25% SOC         3         3</span>
<span class="co">#&gt; 2        A          39 Under 50% FRL     0-25% SOC         2         2</span>
<span class="co">#&gt; 3        A          73 Under 50% FRL     0-25% SOC         2         2</span>
<span class="co">#&gt; 4        A          84 Under 50% FRL     0-25% SOC         2         3</span>
<span class="co">#&gt; 5        A          85 Under 50% FRL     0-25% SOC         2         2</span>
<span class="co">#&gt; 6        A          94 Under 50% FRL     0-25% SOC         2         2</span>
<span class="co">#&gt;   eng_interest eng_like eng_losttrack eng_moreabout rel_asmuch rel_future</span>
<span class="co">#&gt; 1            2        2             2             2          2          2</span>
<span class="co">#&gt; 2            2        3             2             2          2          3</span>
<span class="co">#&gt; 3            2        2             2             2          2          2</span>
<span class="co">#&gt; 4            2        2             2             2          2          3</span>
<span class="co">#&gt; 5            2        3             2             2          2          2</span>
<span class="co">#&gt; 6            2        2             2             2          3          2</span>
<span class="co">#&gt;   rel_outside rel_rightnow tch_interestedideas tch_problem cm_engagement</span>
<span class="co">#&gt; 1           2            2                   2           2             8</span>
<span class="co">#&gt; 2           2            2                   2           2             9</span>
<span class="co">#&gt; 3           2            2                   2           3             8</span>
<span class="co">#&gt; 4           2            2                   2           2             8</span>
<span class="co">#&gt; 5           2            2                   2           2             9</span>
<span class="co">#&gt; 6           2            2                   3           2             8</span>
<span class="co">#&gt;   cm_binary_engagement</span>
<span class="co">#&gt; 1                 TRUE</span>
<span class="co">#&gt; 2                 TRUE</span>
<span class="co">#&gt; 3                 TRUE</span>
<span class="co">#&gt; 4                 TRUE</span>
<span class="co">#&gt; 5                 TRUE</span>
<span class="co">#&gt; 6                 TRUE</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="goals-analysis">Goals Analysis<a class="anchor" aria-label="anchor" href="#goals-analysis"></a>
</h2>
<p>In most cases, making the common metric is just an intermediate step to scoring the metric for goals purposes. <code>tntpmetric</code> has two functions that should make all the necessary goals calculations for you. In both cases, <em>you do not need</em> to create the metric ahead of time. Just provide the function your raw data, indicate the metric of interest and type of analysis needed.</p>
<div class="section level3">
<h3 id="calculating-the-average-common-metric-score">Calculating the average common metric score<a class="anchor" aria-label="anchor" href="#calculating-the-average-common-metric-score"></a>
</h3>
<p>If you want to calculate the average common metric score at a single point in time, you can use the function <code>metric_mean</code>. For example, to calculate the average Sense of Belonging score in the initial survey data, simply give it your data and indicate it’s the “belonging” metric. (The <code>by_class</code> option will be discussed below)</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/metric_analyses.html">metric_mean</a></span><span class="op">(</span><span class="va">ss_data_initial</span>, metric <span class="op">=</span> <span class="st">"belonging"</span>, by_class <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>
<span class="co">#&gt; [1] "4 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; $`Overall mean`</span>
<span class="co">#&gt;  1       emmean    SE df lower.CL upper.CL</span>
<span class="co">#&gt;  overall    4.9 0.473 25     3.93     5.87</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; Confidence level used: 0.95 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of data points`</span>
<span class="co">#&gt; [1] 996</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of included classes`</span>
<span class="co">#&gt; [1] 26</span></code></pre></div>
<p><code>metric_means</code> estimates this mean using a multilevel model framework, and takes advantage of the R package <code>emmeans</code> to print the output. The overall mean is displayed in the first element of the returned list under <code>emmean</code>. For a more robust result, you are also provided the appropriate Standard Error (<code>SE</code>) and the lower and upper bounds of the 95% Confidence Interval (<code>lower.CL</code> and <code>upper.cl</code>)</p>
</div>
<div class="section level3">
<h3 id="using-the-binary-version-of-the-variable">Using the binary version of the variable<a class="anchor" aria-label="anchor" href="#using-the-binary-version-of-the-variable"></a>
</h3>
<p>The function <code>metric_mean</code> also works on the binary version of the construct. Simply set the option <code>use_binary</code> to <code>TRUE</code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/metric_analyses.html">metric_mean</a></span><span class="op">(</span><span class="va">ss_data_initial</span>, metric <span class="op">=</span> <span class="st">"engagement"</span>, use_binary <span class="op">=</span> <span class="cn">T</span>, by_class <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>
<span class="co">#&gt; [1] "6 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; $`Overall mean`</span>
<span class="co">#&gt;  1       emmean     SE   df lower.CL upper.CL</span>
<span class="co">#&gt;  overall  0.238 0.0714 24.9   0.0906    0.385</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; Confidence level used: 0.95 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of data points`</span>
<span class="co">#&gt; [1] 994</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of included classes`</span>
<span class="co">#&gt; [1] 26</span></code></pre></div>
<p>Because the outcome is not a TRUE/FALSE binary, the mean will always be a proportion between 0 and 1. In the above example, the value 0.238 implies that 23.8% of responses in this data set were “engaged”.</p>
</div>
<div class="section level3">
<h3 id="calculating-the-average-common-metric-score-for-different-groups">Calculating the average common metric score for different groups<a class="anchor" aria-label="anchor" href="#calculating-the-average-common-metric-score-for-different-groups"></a>
</h3>
<p>Many projects have equity-based goals that require looking at mean common metric scores for different types of classrooms. For example, the student survey data has a variable <code>class_frl_cat</code> indicating whether the response comes from a class with at least 50% of students receiving free or reduced price lunch or a class where fewer than 50% of students receive FRL. To look at the results for each group, simply include the column name as the <code>equity_group</code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/metric_analyses.html">metric_mean</a></span><span class="op">(</span><span class="va">ss_data_initial</span>, metric <span class="op">=</span> <span class="st">"belonging"</span>, equity_group <span class="op">=</span> <span class="st">"class_frl_cat"</span>, by_class <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>
<span class="co">#&gt; [1] "4 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; $`Group means`</span>
<span class="co">#&gt;  equity_group     emmean    SE df lower.CL upper.CL</span>
<span class="co">#&gt;  At least 50% FRL   2.87 0.351 24     2.15     3.60</span>
<span class="co">#&gt;  Under 50% FRL      6.93 0.351 24     6.20     7.65</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; Confidence level used: 0.95 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Difference(s) between groups`</span>
<span class="co">#&gt;  contrast                         estimate    SE df t.ratio p.value</span>
<span class="co">#&gt;  At least 50% FRL - Under 50% FRL    -4.05 0.496 24  -8.164  &lt;.0001</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of data points`</span>
<span class="co">#&gt; [1] 996</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of included classes`</span>
<span class="co">#&gt; [1] 26</span></code></pre></div>
<p>Now, the results show the mean for both types of classes, and include another entry to the returned list called “Difference(s) between groups” the calculates the contrast, or the difference between these group means, and gives a standard error and p-value in case it’s of interest. Note that the contrast is always represented as the first group listed minus the second group listed. In this case, because the reported difference is negative, it means that classes with under 50% FRL students tended to have a higher sense of belonging score.</p>
<p>Equity group comparisons work even when there are more than two group values, like in the variable <code>class_soc_cat</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/metric_analyses.html">metric_mean</a></span><span class="op">(</span><span class="va">ss_data_initial</span>, metric <span class="op">=</span> <span class="st">"belonging"</span>, equity_group <span class="op">=</span> <span class="st">"class_soc_cat"</span>, by_class <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>
<span class="co">#&gt; [1] "4 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; $`Group means`</span>
<span class="co">#&gt;  equity_group emmean    SE   df lower.CL upper.CL</span>
<span class="co">#&gt;  0-25% SOC      8.01 0.314 22.2     7.36     8.66</span>
<span class="co">#&gt;  26-50% SOC     6.18 0.312 21.8     5.54     6.83</span>
<span class="co">#&gt;  51-75% SOC     4.20 0.312 21.8     3.56     4.85</span>
<span class="co">#&gt;  76-100% SOC    2.12 0.271 22.0     1.56     2.69</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; Confidence level used: 0.95 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Difference(s) between groups`</span>
<span class="co">#&gt;  contrast                     estimate    SE   df t.ratio p.value</span>
<span class="co">#&gt;  (0-25% SOC) - (26-50% SOC)       1.82 0.443 22.0   4.120  0.0024</span>
<span class="co">#&gt;  (0-25% SOC) - (51-75% SOC)       3.80 0.443 22.0   8.590  &lt;.0001</span>
<span class="co">#&gt;  (0-25% SOC) - (76-100% SOC)      5.88 0.415 22.1  14.183  &lt;.0001</span>
<span class="co">#&gt;  (26-50% SOC) - (51-75% SOC)      1.98 0.442 21.8   4.482  0.0010</span>
<span class="co">#&gt;  (26-50% SOC) - (76-100% SOC)     4.06 0.414 21.9   9.814  &lt;.0001</span>
<span class="co">#&gt;  (51-75% SOC) - (76-100% SOC)     2.08 0.414 21.9   5.026  0.0003</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; P value adjustment: tukey method for comparing a family of 4 estimates </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of data points`</span>
<span class="co">#&gt; [1] 996</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of included classes`</span>
<span class="co">#&gt; [1] 26</span></code></pre></div>
<p>Because it’s rare for projects to set equity goals for factors that have many different groups, <code>metric_mean</code> warns you if your <code>equity_group</code> variable has more than 5 categories; usually that means something is wrong with your variable.</p>
</div>
<div class="section level3">
<h3 id="the-by_class-option">The by_class option<a class="anchor" aria-label="anchor" href="#the-by_class-option"></a>
</h3>
<p>Some metrics collect multiple data points from a single class. For example, student surveys will survey multiple students in the same class, and in many cases multiple times. Because different classes will almost surely have a different number of associated data points – some classes might get 10 surveys, while another might get 50 – we need an approach that doesn’t over- or under-represent some classes because of differences in sample sizes. Fortunately, the multilevel models under-girding the the functions in <code>tntpmetrics</code> account for differences in sample sizes between classes automatically. But to make them work, you must have a variable in your data titled class_id representing each classroom’s unique identifier. You must also set <code>by_class = T</code> as we did in the above examples.</p>
<p>If you do not set <code>by_class = T</code> and/or you do not have a class_id variable, <code>metric_mean</code> will not account for differences in sample sizes by class. In cases where you have multiple rows of data associated with the same class, not accounting for class IDs is statistically inappropriate and the standard errors and confidence intervals will likely be too small. Because some projects will surely forget to collect a class ID, <code>metric_means</code> will still give you the results even if you set <code>by_class = F</code> (or do not specify this option, as FALSE is the default), but will warn you about this statistical issue if you are using a metric that is expecting a class ID, like student surveys or assignments:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/metric_analyses.html">metric_mean</a></span><span class="op">(</span><span class="va">ss_data_initial</span>, metric <span class="op">=</span> <span class="st">"belonging"</span><span class="op">)</span>
<span class="co">#&gt; Warning: To properly analyze the belonging metric, you should have a variable</span>
<span class="co">#&gt; called class_id in your data, and set by_class = TRUE. If you did not collect</span>
<span class="co">#&gt; a class ID your results might not be appropriate. Contact Cassie Coddington to</span>
<span class="co">#&gt; discuss.</span>
<span class="co">#&gt; [1] "4 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; $`Overall mean`</span>
<span class="co">#&gt;  1       emmean     SE  df lower.CL upper.CL</span>
<span class="co">#&gt;  overall   4.85 0.0794 995     4.69     5.01</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Confidence level used: 0.95 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of data points`</span>
<span class="co">#&gt; [1] 996</span></code></pre></div>
<p>You will not get this warning if you set <code>by_class = F</code> and you are analyzing a metric that is less likely to have multiple responses per class, like expectations or observations.</p>
</div>
<div class="section level3">
<h3 id="calculating-average-growth-over-time">Calculating average growth over time<a class="anchor" aria-label="anchor" href="#calculating-average-growth-over-time"></a>
</h3>
<p>To examine how the average metric score has changed between two time points, use the function <code>metric_growth</code>. This function works the same as <code>metric_mean</code> but expects you to provide two data sets: one for the first time point (<code>data1</code>) and one for the later time point (<code>data2</code>). For example, to look at how engagement has changed over time, we can use:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/metric_analyses.html">metric_growth</a></span><span class="op">(</span>
  data1 <span class="op">=</span> <span class="va">ss_data_initial</span>, 
  data2 <span class="op">=</span> <span class="va">ss_data_final</span>, 
  metric <span class="op">=</span> <span class="st">"engagement"</span>, 
  by_class <span class="op">=</span> <span class="cn">T</span>
<span class="op">)</span>
<span class="co">#&gt; [1] "6 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; [1] "2 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; $`Means at each timepoint`</span>
<span class="co">#&gt;  time    emmean     SE   df lower.CL upper.CL</span>
<span class="co">#&gt;  Final    0.326 0.0743 25.3   0.1731    0.479</span>
<span class="co">#&gt;  Initial  0.234 0.0743 25.3   0.0809    0.387</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; Confidence level used: 0.95 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Differences between timepoints`</span>
<span class="co">#&gt;  contrast        estimate     SE   df t.ratio p.value</span>
<span class="co">#&gt;  Final - Initial   0.0922 0.0115 1965   8.035  &lt;.0001</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of data points`</span>
<span class="co">#&gt; [1] 1992</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of included classes`</span>
<span class="co">#&gt; [1] 26</span></code></pre></div>
<p>In this example, the mean engagement score initially was 4.93, but increased to 5.99 by the final data collection. This difference was a growth of 1.06 points.</p>
</div>
<div class="section level3">
<h3 id="using-the-binary-version-of-the-variable-1">Using the binary version of the variable<a class="anchor" aria-label="anchor" href="#using-the-binary-version-of-the-variable-1"></a>
</h3>
<p>The function <code>metric_growth</code> also works on the binary version of the construct. Simply set the option <code>use_binary</code> to <code>TRUE</code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/metric_analyses.html">metric_growth</a></span><span class="op">(</span>
  data1 <span class="op">=</span> <span class="va">ss_data_initial</span>, 
  data2 <span class="op">=</span> <span class="va">ss_data_final</span>, 
  metric <span class="op">=</span> <span class="st">"engagement"</span>,
  use_binary <span class="op">=</span> <span class="cn">T</span>,
  by_class <span class="op">=</span> <span class="cn">T</span>
<span class="op">)</span>
<span class="co">#&gt; [1] "6 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; [1] "2 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; $`Means at each timepoint`</span>
<span class="co">#&gt;  time    emmean     SE   df lower.CL upper.CL</span>
<span class="co">#&gt;  Final    0.326 0.0743 25.3   0.1731    0.479</span>
<span class="co">#&gt;  Initial  0.234 0.0743 25.3   0.0809    0.387</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; Confidence level used: 0.95 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Differences between timepoints`</span>
<span class="co">#&gt;  contrast        estimate     SE   df t.ratio p.value</span>
<span class="co">#&gt;  Final - Initial   0.0922 0.0115 1965   8.035  &lt;.0001</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of data points`</span>
<span class="co">#&gt; [1] 1992</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of included classes`</span>
<span class="co">#&gt; [1] 26</span></code></pre></div>
<p>As before, remember that the values represent proportions between 0 and 1. In the example above, 23% of responses in the initial data were engaging and 33% were engaging in the final data. The difference (0.0922) represents about 9 percentage points.</p>
</div>
<div class="section level3">
<h3 id="calculating-differences-in-growth-over-time-between-equity-groups">Calculating differences in growth over time between equity groups<a class="anchor" aria-label="anchor" href="#calculating-differences-in-growth-over-time-between-equity-groups"></a>
</h3>
<p>You can also examine how growth compared between different groups by specifying he equity group:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/metric_analyses.html">metric_growth</a></span><span class="op">(</span>
  data1 <span class="op">=</span> <span class="va">ss_data_initial</span>, 
  data2 <span class="op">=</span> <span class="va">ss_data_final</span>, 
  metric <span class="op">=</span> <span class="st">"engagement"</span>,
  equity_group <span class="op">=</span> <span class="st">"class_frl_cat"</span>,
  by_class <span class="op">=</span> <span class="cn">T</span>
<span class="op">)</span>
<span class="co">#&gt; [1] "6 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; [1] "2 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; $`Group means at each timepoint`</span>
<span class="co">#&gt; time = Initial:</span>
<span class="co">#&gt;  equity_group      emmean     SE   df lower.CL upper.CL</span>
<span class="co">#&gt;  At least 50% FRL 0.00365 0.0714 24.6   -0.143    0.151</span>
<span class="co">#&gt;  Under 50% FRL    0.46356 0.0714 24.6    0.316    0.611</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; time = Final:</span>
<span class="co">#&gt;  equity_group      emmean     SE   df lower.CL upper.CL</span>
<span class="co">#&gt;  At least 50% FRL 0.00645 0.0714 24.6   -0.141    0.154</span>
<span class="co">#&gt;  Under 50% FRL    0.64546 0.0714 24.6    0.498    0.793</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; Confidence level used: 0.95 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Differences between groups at each timepoint`</span>
<span class="co">#&gt; time = Initial:</span>
<span class="co">#&gt;  contrast                         estimate    SE   df t.ratio p.value</span>
<span class="co">#&gt;  At least 50% FRL - Under 50% FRL   -0.460 0.101 24.6  -4.557  0.0001</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; time = Final:</span>
<span class="co">#&gt;  contrast                         estimate    SE   df t.ratio p.value</span>
<span class="co">#&gt;  At least 50% FRL - Under 50% FRL   -0.639 0.101 24.6  -6.332  &lt;.0001</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Change in differences between groups over time`</span>
<span class="co">#&gt; contrast = At least 50% FRL - Under 50% FRL:</span>
<span class="co">#&gt;  contrast1       estimate     SE   df t.ratio p.value</span>
<span class="co">#&gt;  Final - Initial   -0.179 0.0226 1965  -7.923  &lt;.0001</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Degrees-of-freedom method: satterthwaite </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of data points`</span>
<span class="co">#&gt; [1] 1992</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Number of included classes`</span>
<span class="co">#&gt; [1] 26</span></code></pre></div>
<p>In this example, classes with at least 50% of students receiving FRL had an initial engagement score of 2.93, and then grew to 4.02 at the final data collection. Classrooms with under 50% FRL students also grew, from 6.94 to 7.97. Adding this equity_group option will directly show how the difference between the two groups varied at each time point. In this case, classes with at least 50% FRL students had engagement scores that were 4.01 points lower than other classes initially, and 3.95 points lower at the final data collection. The difference of these differences (i.e., -3.95 - -4.01 = 0.0659) is shown in the list element “Change in differences between groups over time”. In this case, this difference is small and not significantly different from 0 (the p-value is 0.48), implying that the gap between these types of classrooms did not change meaningfully over time.</p>
<p>You must have the same group definitions in both data sets, or you’ll get an error:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Renaming FRL class variable so it doesn't match initial data</span>
<span class="va">ss_data_final_error</span> <span class="op">&lt;-</span> <span class="va">ss_data_final</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>
    class_frl_cat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span>
      <span class="va">class_frl_cat</span> <span class="op">==</span> <span class="st">"At least 50% FRL"</span>,
      <span class="st">"&gt;= 50% FRL"</span>,
      <span class="va">class_frl_cat</span>
    <span class="op">)</span>
  <span class="op">)</span>
<span class="fu"><a href="../reference/metric_analyses.html">metric_growth</a></span><span class="op">(</span>
  data1 <span class="op">=</span> <span class="va">ss_data_initial</span>, 
  data2 <span class="op">=</span> <span class="va">ss_data_final_error</span>, 
  metric <span class="op">=</span> <span class="st">"engagement"</span>,
  equity_group <span class="op">=</span> <span class="st">"class_frl_cat"</span>,
  by_class <span class="op">=</span> <span class="cn">T</span>
<span class="op">)</span>
<span class="co">#&gt; [1] "6 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; [1] "2 Row(s) in data were NOT used because missing at least one value needed to create common measure."</span>
<span class="co">#&gt; Error: Some values of equity group are not present in BOTH data sets.</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Adam Maier, Shane Orr.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
